<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Play House Countdown</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    margin: 0;
    min-height: 100vh;
    background: linear-gradient(135deg, #667eea, #764ba2);
    font-family: Arial, sans-serif;
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
}

.container {
    width: 95%;
    max-width: 750px;
    background: rgba(0,0,0,0.25);
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    max-height: 90vh;
    overflow-y: auto;
}

h1 {
    text-align: center;
    margin-bottom: 10px;
}

.add-costumer {
    width: 100%;
    padding: 10px;
    background: #00e5ff;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    cursor: pointer;
    margin-bottom: 15px;
}

.timer {
    background: rgba(255,255,255,0.1);
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 12px;
    text-align: center;
}

input, textarea {
    width: 95%;
    margin: 5px 0;
    padding: 6px;
    border-radius: 6px;
    border: none;
}

.time {
    font-size: 1.8rem;
    margin: 6px 0;
}

.expired {
    color: #ff5252;
    font-weight: bold;
}

button {
    padding: 7px 12px;
    margin: 3px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
}

.start { background: #4CAF50; color: white; }
.pause { background: #FFC107; color: black; }
.reset { background: #F44336; color: white; }
.delete { background: #9E9E9E; color: black; }
</style>
</head>
<body>

<div class="container">
    <h1>Play House Countdown</h1>
    <button class="add-costumer" onclick="addCostumer()">âž• Add Costumer</button>
    <div id="timers"></div>
</div>

<script>
let costumerId = 0;
const costumers = {};
const START_TIME = 30 * 60;

function formatTime(sec) {
    const m = String(Math.floor(sec / 60)).padStart(2, '0');
    const s = String(sec % 60).padStart(2, '0');
    return `${m}:${s}`;
}

function addCostumer() {
    costumerId++;
    costumers[costumerId] = { seconds: START_TIME, interval: null };

    const div = document.createElement("div");
    div.className = "timer";
    div.id = `costumer-${costumerId}`;
    div.innerHTML = `
        <input value="Costumer ${costumerId}" />
        <textarea placeholder="Description..."></textarea>
        <div class="time" id="display-${costumerId}">30:00</div>
        <button class="start" onclick="startCostumer(${costumerId})">Start</button>
        <button class="pause" onclick="pauseCostumer(${costumerId})">Pause</button>
        <button class="reset" onclick="resetCostumer(${costumerId})">Reset</button>
        <button class="delete" onclick="deleteCostumer(${costumerId})">Delete</button>
    `;

    document.getElementById("timers").appendChild(div);
}

function startCostumer(id) {
    const costumer = costumers[id];
    if (!costumer || costumer.interval || costumer.seconds <= 0) return;

    costumer.interval = setInterval(() => {
        costumer.seconds--;
        const display = document.getElementById(`display-${id}`);
        display.textContent = formatTime(costumer.seconds);

        if (costumer.seconds <= 0) {
            clearInterval(costumer.interval);
            costumer.interval = null;
            display.classList.add("expired");
        }
    }, 1000);
}

function pauseCostumer(id) {
    const costumer = costumers[id];
    if (!costumer) return;
    clearInterval(costumer.interval);
    costumer.interval = null;
}

function resetCostumer(id) {
    pauseCostumer(id);
    costumers[id].seconds = START_TIME;
    const display = document.getElementById(`display-${id}`);
    display.textContent = "30:00";
    display.classList.remove("expired");
}

function deleteCostumer(id) {
    pauseCostumer(id);
    delete costumers[id];
    document.getElementById(`costumer-${id}`).remove();
}
</script>

</body>
</html>
